<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <title>Deposit Money</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="card">
        <h2>ржЯрж╛ржХрж╛ ржЬржорж╛ ржжрж┐ржи (Deposit)</h2>
        <div class="payment-info" style="text-align: left; background: #f9f9f9; padding: 10px; border-radius: 8px;">
            <p>ЁЯТ░ <b>ржмрж┐ржХрж╛рж╢ (Personal):</b> 01615684028</p>
            <p>ЁЯТ░ <b>ржиржЧржж (Personal):</b> 01777086173</p>
            <p><small>*ржиржорзНржмрж░ ржХржкрж┐ ржХрж░рзЗ ржЯрж╛ржХрж╛ ржкрж╛ржарж┐рзЯрзЗ ржирж┐ржЪрзЗрж░ ржлрж░рзНржоржЯрж┐ ржкрзВрж░ржг ржХрж░рзБржиред</small></p>
        </div>
        
        <input type="number" id="dep-amount" placeholder="ржЯрж╛ржХрж╛рж░ ржкрж░рж┐ржорж╛ржг (рззрзжрзж - рзлрзжрзжрзж)">
        <select id="method">
            <option value="Bkash">ржмрж┐ржХрж╛рж╢</option>
            <option value="Nagad">ржиржЧржж</option>
        </select>
        <input type="text" id="trxid" placeholder="Transaction ID (TrxID)">
        
        <button onclick="sendDeposit()">ржбрж┐ржкрзЛржЬрж┐ржЯ рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржкрж╛ржарж╛ржи</button>
        <button onclick="location.href='index.html'" style="background:#6c757d;">ржлрж┐рж░рзЗ ржпрж╛ржи</button>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <script src="app.js"></script>

    <script>
        function sendDeposit() {
            const amount = document.getElementById('dep-amount').value;
            const trx = document.getElementById('trxid').value;
            const method = document.getElementById('method').value;
            const user = auth.currentUser;

            if(amount < 100) return alert("ржорж┐ржирж┐ржорж╛ржо рззрзжрзж ржЯрж╛ржХрж╛ ржбрж┐ржкрзЛржЬрж┐ржЯ ржХрж░рждрзЗ рж╣ржмрзЗред");
            if(!trx) return alert("TrxID ржжрж┐ржиред");

            db.ref('deposit_requests').push({
                uid: user.uid,
                email: user.email,
                amount: parseInt(amount),
                method: method,
                trxid: trx,
                status: "Pending",
                time: Date.now()
            }).then(() => {
                alert("ржЖржкржирж╛рж░ рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ ржкрж╛ржарж╛ржирзЛ рж╣рзЯрзЗржЫрзЗред ржПржбржорж┐ржи ржЪрзЗржХ ржХрж░рзЗ ржмрзНржпрж╛рж▓рзЗржирзНрж╕ ржЕрзНржпрж╛ржб ржХрж░рзЗ ржжрж┐ржмрзЗред");
                location.href = "index.html";
            });
        }
    </script>
</body>
</html>
